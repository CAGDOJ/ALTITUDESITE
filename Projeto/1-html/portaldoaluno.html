<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Portal do Aluno • Completo</title>



<!-- Charts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>

<!-- ======================= HEADER ======================= -->
<header>
  <div class="header-inner container">
    <div class="brand">
      <!-- Foto do aluno (substitui PA quando tiver imagem no Perfil) -->
      <div class="brand-logo" id="brand-logo">PA</div>
      <div>
        <h1 id="brand-name">Portal do Aluno</h1>
        <small>RA: <span id="brand-ra">—</span></small>
      </div>
    </div>
    <div class="search">
      <input id="busca" type="text" placeholder="Buscar curso, certificado, tópico..." />
    </div>
  </div>
  <div class="container study-bar">
    <div class="study-pill">
      <span class="dot" id="pill-dot"></span>
      <span class="muted" style="font-size:12px">Sessão ativa:</span>
      <strong id="pill-timer">00:00:00</strong>
      <span class="badge" id="pill-credits">0 créditos</span>
    </div>
  </div>
</header>

<!-- ======================= MAIN ======================= -->
<main class="container">

  <!-- ====== Abas ====== -->
  <div class="tabs" id="tabs">
    <button class="tab-btn active" data-tab="inicio">Início</button>
    <button class="tab-btn" data-tab="cursos">Meus Cursos</button>
    <button class="tab-btn" data-tab="desempenho">Desempenho</button>
    <button class="tab-btn" data-tab="inscricoes">Inscrições</button>
    <button class="tab-btn" data-tab="pagamentos">Pagamentos</button>
    <button class="tab-btn" data-tab="creditos">Créditos & Certificados</button>
    <button class="tab-btn" data-tab="perfil">Perfil</button>
    <button class="tab-btn" data-tab="carteirinha">Carteirinha</button>
    <button class="tab-btn" data-tab="forum">Fórum</button>
  </div>

  <!-- ====== INÍCIO ====== -->
  <section id="tab-inicio" class="active">
    <div class="grid cols-4">
      <div class="card metric"><div class="body"><div class="title">Cursos ativos</div><div class="value" id="metric-cursos">0</div><div class="desc">Em andamento</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Horas estudadas</div><div class="value" id="metric-horas">0h</div><div class="desc">Acumuladas</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Média geral</div><div class="value" id="metric-media">0.0</div><div class="desc">Provas finais</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Certificados</div><div class="value" id="metric-certificados">0</div><div class="desc">Disponíveis</div></div></div>
    </div>

    <div class="grid" style="margin-top:12px;grid-template-columns:2fr 1fr">
      <!-- Progresso por curso -->
      <div class="card"><div class="body">
        <h3 style="margin:0 0 6px">Progresso por curso</h3>
        <div id="lista-progresso" class="list"></div>
      </div></div>
      <!-- Evolução das notas -->
      <div class="card"><div class="body">
        <h3 style="margin:0 0 6px">Evolução de notas</h3>
        <div class="chart-box small"><canvas id="chart-media"></canvas></div>
      </div></div>
    </div>
  </section>

  <!-- ====== MEUS CURSOS ====== -->
  <section id="tab-cursos">
    <!-- Cards dos cursos matriculados -->
    <div id="grid-cursos" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(260px,1fr))"></div>

    <!-- Painel do curso (abre na mesma aba) -->
    <div id="curso-panel" class="course-panel">
      <div class="course-bar">
        <button id="btn-voltar-meus" class="btn">← Voltar</button>
        <h2 id="cp-titulo" style="margin:0">Curso</h2>
        <div class="study-pill">
          <span class="dot"></span>
          <span class="muted" style="font-size:12px">Tempo no curso:</span>
          <strong id="cp-timer">00:00:00</strong>
          <span class="badge" id="cp-creditos">0 créditos</span>
        </div>
      </div>
      <div class="course-body">
        <aside class="course-side">
          <h3 style="margin:0 0 8px">Módulos</h3>
          <div id="cp-modulos" class="mods"></div>
          <button id="cp-btn-prova" class="btn primary block" disabled>Prova Final</button>
          <div class="row" style="margin-top:10px"><span>Progresso:</span><strong id="cp-progresso">0%</strong></div>
        </aside>

        <section class="course-content">
          <!-- Visão do módulo -->
          <div id="cp-view-modulo" class="card">
            <div class="body">
              <h3 id="cp-mod-titulo" style="margin-top:0">Selecione um módulo</h3>
              <div class="block">
                <h4>PDF</h4>
                <embed id="cp-pdf" class="pdf" type="application/pdf" src="">
                <div class="actions" style="margin-top:6px"><a id="cp-pdf-link" class="btn" href="#" target="_blank">Abrir em nova aba</a></div>
              </div>
              <div class="block">
                <h4>Vídeo</h4>
                <video id="cp-video" class="video" controls></video>
              </div>
              <div class="block" style="display:flex;align-items:center;gap:8px">
                <button id="cp-btn-concluir" class="btn ok">Marcar módulo como concluído</button>
                <span id="cp-flag-conc" class="tag ok" style="display:none">Concluído</span>
              </div>
            </div>
          </div>

          <!-- Prova -->
          <div id="cp-view-prova" class="card" style="display:none">
            <div class="body">
              <h3 style="margin-top:0">Prova final</h3>
              <p class="muted" style="margin-top:-6px">Nota máxima 10. Cópia/texto desabilitados.</p>
              <form id="cp-quiz" class="nocopy">
                <!-- 5 perguntas exemplo -->
                <div class="q"><div class="q-title">1) Hashing é…</div>
                  <label><input type="radio" name="q1" value="a"> Reversível e simétrico</label><br>
                  <label><input type="radio" name="q1" value="b"> Resumo único para integridade</label><br>
                  <label><input type="radio" name="q1" value="c"> Protocolo de rede</label>
                </div><hr>
                <div class="q"><div class="q-title">2) Porta padrão HTTPS:</div>
                  <label><input type="radio" name="q2" value="a"> 80</label><br>
                  <label><input type="radio" name="q2" value="b"> 21</label><br>
                  <label><input type="radio" name="q2" value="c"> 443</label>
                </div><hr>
                <div class="q"><div class="q-title">3) LGPD significa:</div>
                  <label><input type="radio" name="q3" value="a"> Lei Geral de Proteção de Dados</label><br>
                  <label><input type="radio" name="q3" value="b"> Lei Geral de Processamento de Dados</label><br>
                  <label><input type="radio" name="q3" value="c"> Leis Globais de Privacidade Digital</label>
                </div><hr>
                <div class="q"><div class="q-title">4) ICMP é usado no:</div>
                  <label><input type="radio" name="q4" value="a"> ping</label><br>
                  <label><input type="radio" name="q4" value="b"> ftp</label><br>
                  <label><input type="radio" name="q4" value="c"> smtp</label>
                </div><hr>
                <div class="q"><div class="q-title">5) Cadeia de custódia garante:</div>
                  <label><input type="radio" name="q5" value="a"> Integridade e rastreabilidade</label><br>
                  <label><input type="radio" name="q5" value="b"> Velocidade de CPU</label><br>
                  <label><input type="radio" name="q5" value="c"> Otimização de disco</label>
                </div>
                <div style="margin-top:10px"><button class="btn primary" type="submit">Enviar</button></div>
              </form>
              <div id="cp-resultado" class="row" style="display:none"></div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </section>

  <!-- ====== DESEMPENHO ====== -->
  <section id="tab-desempenho">
    <div class="grid cols-4">
      <div class="card metric"><div class="body"><div class="title">Média (6 meses)</div><div class="value" id="kpi-media">0.0</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Horas totais</div><div class="value" id="kpi-horas">0h</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Provas feitas</div><div class="value" id="kpi-provas">0</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Cursos concluídos</div><div class="value" id="kpi-cursos">0</div></div></div>
    </div>
    <div class="card" style="margin-top:12px"><div class="body">
      <h3 style="margin:0 0 6px">Gráficos</h3>
      <div class="grid" style="grid-template-columns:1fr 1fr">
        <div class="chart-box"><canvas id="chart-horas"></canvas></div>
        <div class="chart-box"><canvas id="chart-media-linha"></canvas></div>
      </div>
    </div></div>
  </section>

  <!-- ====== INSCRIÇÕES ====== -->
  <section id="tab-inscricoes">
    <div class="row" style="justify-content:space-between">
      <div>
        <h3 style="margin:0">Novos cursos disponíveis</h3>
        <small class="muted">Filtre por área:</small>
      </div>
      <select id="filtro-area"><option value="">Todas as áreas</option></select>
    </div>
    <div id="grid-catalogo" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(260px,1fr));margin-top:10px"></div>
  </section>

  <!-- ====== PAGAMENTOS ====== -->
  <section id="tab-pagamentos">
    <div class="grid" style="grid-template-columns:2fr 1fr">
      <div class="card"><div class="body">
        <h3 style="margin-top:0">Pacotes de certificados</h3>
        <div id="lista-promos" class="grid" style="grid-template-columns:repeat(auto-fill,minmax(240px,1fr))"></div>
        <div class="row" style="margin-top:10px">
          <input id="cupom" type="text" placeholder="Cupom de desconto">
          <button id="btn-aplicar-cupom" class="btn">Aplicar</button>
        </div>
      </div></div>
      <div class="card"><div class="body">
        <h3 style="margin-top:0">Resumo</h3>
        <div id="resumo-pag"></div>
        <button class="btn primary block" id="btn-pagar">Pagar com InfinityPay</button>
        <small class="muted">* Liberação somente após confirmação segura via Webhook (back-end).</small>
        <div id="dev-approve" style="display:none;margin-top:8px">
          <button class="btn" id="btn-dev-aprovar">[DEMO] Confirmar pagamento</button>
        </div>
      </div></div>
    </div>
  </section>

  <!-- ====== CRÉDITOS & CERTIFICADOS ====== -->
  <section id="tab-creditos">
    <div class="grid cols-4">
      <div class="card metric"><div class="body"><div class="title">Tempo total estudado</div><div class="value" id="met-total">00:00:00</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Créditos (1h = 1)</div><div class="value" id="met-creditos">0</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Saldo de certificados</div><div class="value" id="met-saldo-cert">0</div></div></div>
      <div class="card metric"><div class="body"><div class="title">Emitidos</div><div class="value" id="met-cert-emit">0</div></div></div>
    </div>
    <div class="row" style="margin-top:10px">
      <button id="btn-emitir-cert" class="btn primary">Emitir certificado</button>
      <small class="muted">Requer saldo e pagamento aprovado.</small>
    </div>
    <div class="card" style="margin-top:10px"><div class="body">
      <h3 style="margin:0 0 6px">Histórico de certificados</h3>
      <div class="table-wrap"><table class="table" id="tabela-certs"><thead><tr><th>#</th><th>Curso</th><th>Data</th></tr></thead><tbody></tbody></table></div>
    </div></div>
  </section>

  <!-- ====== PERFIL ====== -->
  <section id="tab-perfil">
    <div class="card"><div class="body">
      <h3 style="margin-top:0">Dados pessoais</h3>
      <div class="grid" style="grid-template-columns:200px 1fr">
        <div>
          <div class="row" style="justify-content:center">
            <div class="brand-logo" id="pf-thumb" style="width:96px;height:96px;border-radius:50%">PA</div>
          </div>
          <input type="file" id="pf-foto" accept="image/*" style="margin-top:8px">
        </div>
        <div>
          <label>Nome para exibição<input id="pf-nome" type="text" placeholder="Como quer ser chamado"></label>
          <label>E-mail<input id="pf-email" type="email" placeholder="email@exemplo.com"></label>
          <label>Telefone<input id="pf-tel" type="tel" placeholder="(00) 00000-0000"></label>
          <label>RA (Registro Acadêmico)<input id="pf-ra" type="text" disabled></label>
          <div style="margin-top:8px"><button id="btn-salvar-perfil" class="btn primary">Salvar</button></div>
        </div>
      </div>
    </div></div>
  </section>

  <!-- ====== CARTEIRINHA ====== -->
  <section id="tab-carteirinha">
    <div id="carteirinha-card">
      <div class="thumb"><img id="card-foto" alt=""></div>
      <div>
        <h3 style="margin:0 0 4px">Carteirinha do Aluno</h3>
        <div class="row" style="gap:8px;justify-content:flex-start"><strong>Nome:</strong><span id="card-nome">—</span></div>
        <div class="row" style="gap:8px;justify-content:flex-start"><strong>RA:</strong><span id="card-ra">—</span></div>
        <div class="row" style="gap:8px;justify-content:flex-start"><strong>Validade:</strong><span id="card-val">31/12/<span id="card-ano"></span></span></div>
      </div>
    </div>
    <div style="margin-top:10px"><button class="btn" id="print-card">Imprimir carteirinha</button></div>
  </section>

  <!-- ====== FÓRUM ====== -->
  <section id="tab-forum">
    <div class="row" style="justify-content:space-between">
      <h3 style="margin:0">Fórum / Chamados</h3>
      <button class="btn primary" id="btn-novo-chamado">Abrir chamado</button>
    </div>

    <div class="card" style="margin-top:10px"><div class="body">
      <div class="grid" style="grid-template-columns:1fr 1fr;gap:10px">
        <div>
          <label>Título<input id="ch-titulo" type="text" placeholder="Resumo do problema"></label>
        </div>
        <div>
          <label>Categoria
            <select id="ch-cat">
              <option value="">Selecione</option>
              <option>Pagamento</option>
              <option>Certificado</option>
              <option>Acesso ao curso</option>
              <option>Outros</option>
            </select>
          </label>
        </div>
      </div>
      <label style="margin-top:8px">Descrição<textarea id="ch-desc" placeholder="Explique com detalhes…"></textarea></label>
      <div style="margin-top:8px;display:flex;gap:8px">
        <button class="btn primary" id="btn-enviar-chamado">Enviar</button>
        <button class="btn" id="btn-limpar-chamado">Limpar</button>
      </div>
    </div></div>

    <div class="card" style="margin-top:10px"><div class="body">
      <h4 style="margin:0 0 6px">Seus chamados</h4>
      <div class="table-wrap">
        <table class="table" id="tabela-chamados">
          <thead>
            <tr><th>Número</th><th>Título</th><th>Status</th><th>Solucionador</th><th>Data</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <small class="muted">Numeração reinicia em 1º de janeiro (formato ANO-XXX).</small>
    </div></div>
  </section>

</main>

<footer style="text-align:center;color:var(--muted);padding:18px 0">© <span id="yr"></span> Portal do Aluno • Todos os direitos reservados</footer>

<!-- ===== Toast ===== -->
<div class="toast" id="toast"><div class="inner" id="toast-msg">ok</div></div>


</body>
</html>
